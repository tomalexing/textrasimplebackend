'use strict';var _stringify=require('babel-runtime/core-js/json/stringify'),_stringify2=_interopRequireDefault(_stringify),_regenerator=require('babel-runtime/regenerator'),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=require('babel-runtime/helpers/asyncToGenerator'),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2),_express=require('express'),_express2=_interopRequireDefault(_express),_bodyParser=require('body-parser'),_bodyParser2=_interopRequireDefault(_bodyParser),_fs=require('mz/fs'),_fs2=_interopRequireDefault(_fs),_connectGzipStatic=require('connect-gzip-static'),_connectGzipStatic2=_interopRequireDefault(_connectGzipStatic),_utils=require('./utils.js');function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var VERSION='1.0.33',app=(0,_express2.default)(),port=9e3,router=_express2.default.Router();app.disable('x-powered-by'),router.param('user_id',function(a,b,c,d){a.user={id:d,name:'TJ'},c()}),router.route('/users/:user_id').all(function(a,b,c){c()}).get(function(a,b){b.json(a.user)}).put(function(a,b){a.user.name=a.params.name,b.json(a.user)}).post(function(a,b,c){c(new Error('not implemented'))}).delete(function(a,b,c){c(new Error('not implemented'))});var avatar,UsersList1,UsersList2;try{(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function a(){return _regenerator2.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_fs2.default.readFile(__dirname+'/assets/9631913.jpeg');case 2:avatar=a.sent,UsersList1=[{uuid:'qwerqwerqwer',nickname:'aaaa',type:'u',email:'nickmy@yandex.ru',avatar:'data:image/png;base64,'+avatar.toString('base64').slice(),title:'\u0418\u043D\u043D\u0430 \u041A\u043E\u043D\u0441\u0442\u0430\u043D\u0442\u0438\u043D\u043E\u043F\u043E\u043B\u044C\u0441\u043A\u0430\u044F',content:'\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434 \u0421\u043E\u0437\u0434\u0430\u0442\u044C\u0437\u0430\u043F\u0440\u043E\u0441\u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441\u043D\u0430\u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441\u043D\u0430 d',publishTime:new Date().toISOString(),registrationTime:new Date(new Date-1e4),startWorkingTime:new Date(new Date-1e6).toISOString(),duration:1341,letterNumber:213,from:'RUS',to:'ENG',cost:'$0.33',isPersonal:!1},{uuid:'lkhgghk',nickname:'zfdfsddf',email:'helpme@yandex.ru',avatar:avatar,type:'c',title:'\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434',content:'\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434',publishTime:new Date().toISOString(),startWorkingTime:new Date().toISOString(),registrationTime:new Date(new Date-10065500),duration:431241,letterNumber:123,from:'ENG',to:'CHN',cost:'$11.33',isPersonal:!0},{uuid:'vnbmnbmhg',nickname:'alex',email:'yiyiyiyi@mail.ru',avatar:avatar,type:'t',title:'\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434',content:'\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434 \u0421\u043E\u0437\u0434\u0430\u0442\u044C\u0437\u0430\u043F\u0440\u043E\u0441\u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441\u043D\u0430\u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441\u043D\u0430 d',publishTime:new Date().toISOString(),startWorkingTime:new Date(new Date-1e6).toISOString(),registrationTime:new Date(new Date-1e7),duration:1341,letterNumber:213,from:'RUS',to:'ENG',cost:'$0.33',isPersonal:!1},{uuid:'bertu',nickname:'rgsgfgsa',email:'yiyiyiyi@mail.ru',avatar:avatar,type:'u',title:'\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434',content:'\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434',publishTime:new Date().toISOString(),startWorkingTime:new Date().toISOString(),registrationTime:new Date(new Date-10),duration:431241,letterNumber:123,from:'ENG',to:'CHN',cost:'$11.33',isPersonal:!0},{uuid:'wasdffeq',nickname:'bfsbs',email:'dsgsgsgdg@mail.ru',avatar:avatar,type:'c',title:'\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434',content:'\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434 \u0421\u043E\u0437\u0434\u0430\u0442\u044C\u0437\u0430\u043F\u0440\u043E\u0441\u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441\u043D\u0430\u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441\u043D\u0430 d',publishTime:new Date().toISOString(),startWorkingTime:new Date(new Date-1e6).toISOString(),registrationTime:new Date(new Date-1e3),duration:1341,letterNumber:213,from:'RUS',to:'ENG',cost:'$0.33',isPersonal:!1},{uuid:'wasgfasrq',nickname:'asdasdas',email:'mtnbvcx@mail.ru',avatar:avatar,type:'c',title:'\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434',content:'\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434',publishTime:new Date().toISOString(),startWorkingTime:new Date().toISOString(),registrationTime:new Date(new Date-1e6),duration:431241,letterNumber:123,from:'ENG',to:'CHN',cost:'$11.33',isPersonal:!0}],UsersList2=[{uuid:'qwerqwerqwer',nickname:'aaaa',type:'g',email:'nickmy@yandex.ru',avatar:avatar,title:'\u0418\u043D\u043D\u0430 \u041A\u043E\u043D\u0441\u0442\u0430\u043D\u0442\u0438\u043D\u043E\u043F\u043E\u043B\u044C\u0441\u043A\u0430\u044F',content:'\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434 \u0421\u043E\u0437\u0434\u0430\u0442\u044C\u0437\u0430\u043F\u0440\u043E\u0441\u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441\u043D\u0430\u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441\u043D\u0430 d',publishTime:new Date().toISOString(),registrationTime:new Date(new Date-1e4),startWorkingTime:new Date(new Date-1e6).toISOString(),duration:1341,letterNumber:213,from:'RUS',to:'ENG',cost:'$0.33',isPersonal:!1},{uuid:'lkhgghk',nickname:'zfdfsddf',email:'helpme@yandex.ru',avatar:avatar,type:'o',title:'\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434',content:'\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434',publishTime:new Date().toISOString(),startWorkingTime:new Date().toISOString(),registrationTime:new Date(new Date-10065500),duration:431241,letterNumber:123,from:'ENG',to:'CHN',cost:'$11.33',isPersonal:!0},{uuid:'vnbmnbmhg',nickname:'alex',email:'yiyiyiyi@mail.ru',avatar:avatar,type:'p',title:'\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434',content:'\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434 \u0421\u043E\u0437\u0434\u0430\u0442\u044C\u0437\u0430\u043F\u0440\u043E\u0441\u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441\u043D\u0430\u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441\u043D\u0430 d',publishTime:new Date().toISOString(),startWorkingTime:new Date(new Date-1e6).toISOString(),registrationTime:new Date(new Date-1e7),duration:1341,letterNumber:213,from:'RUS',to:'ENG',cost:'$0.33',isPersonal:!1},{uuid:'bertu',nickname:'rgsgfgsa',email:'yiyiyiyi@mail.ru',avatar:avatar,type:'p',title:'\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434',content:'\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434',publishTime:new Date().toISOString(),startWorkingTime:new Date().toISOString(),registrationTime:new Date(new Date-10),duration:431241,letterNumber:123,from:'ENG',to:'CHN',cost:'$11.33',isPersonal:!0},{uuid:'wasdffeq',nickname:'bfsbs',email:'dsgsgsgdg@mail.ru',avatar:avatar,type:'g',title:'\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434',content:'\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434 \u0421\u043E\u0437\u0434\u0430\u0442\u044C\u0437\u0430\u043F\u0440\u043E\u0441\u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441\u043D\u0430\u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441\u043D\u0430 d',publishTime:new Date().toISOString(),startWorkingTime:new Date(new Date-1e6).toISOString(),registrationTime:new Date(new Date-1e3),duration:1341,letterNumber:213,from:'RUS',to:'ENG',cost:'$0.33',isPersonal:!1},{uuid:'wasgfasrq',nickname:'asdasdas',email:'mtnbvcx@mail.ru',avatar:avatar,type:'g',title:'\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434',content:'\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u043F\u0435\u0440\u0435\u0432\u043E\u0434',publishTime:new Date().toISOString(),startWorkingTime:new Date().toISOString(),registrationTime:new Date(new Date-1e6),duration:431241,letterNumber:123,from:'ENG',to:'CHN',cost:'$11.33',isPersonal:!0}];case 5:case'end':return a.stop();}},a,void 0)}))()}catch(a){}app.use(function(a,b,c){console.log('req '+a.originalUrl+' at '+new Date().toISOString()),c()}),app.use((0,_connectGzipStatic2.default)(__dirname+'/assets',{maxAge:_utils.production?31536000000:0})),app.get('/check',function(a,b){return b.send('OK')}),app.get('/users',function(a,b){b.send((0,_stringify2.default)(UsersList1))}),app.use(router),app.use(_bodyParser2.default.json()),app.listen(port,function(){console.log('Server running on port '+port+', version:'+VERSION)});